(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{38:function(e,t,n){e.exports=n(89)},68:function(e,t,n){},70:function(e,t,n){},72:function(e,t,n){},74:function(e,t,n){},76:function(e,t,n){},78:function(e,t,n){},80:function(e,t,n){},83:function(e,t,n){},85:function(e,t,n){},87:function(e,t,n){},89:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(33),s=n.n(r),i=n(8),c=n(92),l=n(93),u=n(94),p=n(17),d=n(35),h=n.n(d),g=n(37),m=n(18),f=n(10),v={songs:[],active:void 0,addNew:!1,readyToSave:!1},E=Object(p.c)({songs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SONGS":return Object(f.a)({},e,{songs:t.payload});case"SET_SONG":return Object(f.a)({},e,{songs:e.songs.map(function(n,a){return a===e.active?t.payload:n})});case"SET_ACTIVE":return Object(f.a)({},e,{active:t.payload});case"NEW_SONG":return Object(f.a)({},e,{songs:e.songs.concat({title:"",body:[]}),active:e.songs.length,addNew:!0,readyToSave:!1});case"CANCEL_NEW_SONG":return{songs:e.songs.slice(0,e.songs.length-1)};case"SET_ACTIVE_PROP":var n=e.songs.map(function(n,a){return a!==e.active?n:Object(f.a)({},n,Object(m.a)({},t.payload.prop,t.payload.value))});return Object(f.a)({},e,{songs:n});case"SET_READY_TO_SAVE":return Object(f.a)({},e,{readyToSave:t.payload});case"PUT_SONG":for(var a=Object(g.a)(e.songs),o=0;o<a.length;o++)if(a[o]._id===t.payload._id)return a[o]=t.payload,Object(f.a)({},e,{songs:a});return a.push(t.payload),Object(f.a)({},e,{songs:a});case"SELECT_SONG":return Object(f.a)({},e,{selected:t.payload});case"CHANGE_SONG":var r=0;if(isNaN(t.payload))r=Math.floor(Math.random()*e.songs.length);else{var s=e.songs.length;r=(r=e.selected+t.payload)<0?r%s+s:r%s}return Object(f.a)({},e,{selected:r});case"DELETE_ACTIVE":return{songs:e.songs.filter(function(t,n){return n!==e.active})};default:return e}},login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};switch((arguments.length>1?arguments[1]:void 0).type){case"LOG_IN":return{admin:window.localStorage.getItem("admin")};case"LOG_OUT":return window.localStorage.removeItem("admin"),{};default:return e}},view:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};switch((arguments.length>1?arguments[1]:void 0).type){case"OPEN_EDIT_VIEW":return Object(f.a)({},e,{showEdit:!0});case"TOGGLE_VIEW_EDIT":return Object(f.a)({},e,{showEdit:!e.showEdit});case"TOGGLE_VIEW_INFO":return Object(f.a)({},e,{showInfo:!e.showInfo});case"TOGGLE_VIEW_TOOLS":return Object(f.a)({},e,{showTools:!e.showTools});default:return e}}}),b=Object(p.a)(h.a),y=Object(p.d)(E,b),O=n(25),j=n.n(O),w=n(36),S=n(2),C=n(3),T=n(5),_=n(4),N=n(6),A=n(90),k=n(13),G=n.n(k),I=(n(68),function(e){function t(){var e,n;Object(S.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(T.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(o)))).select=function(e){return function(){n.props.dispatch({type:"SET_ACTIVE",payload:e})}},n}return Object(N.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"SongList"},this.props.songs.map(function(t,n){var a=t._id;return o.a.createElement(A.a,{key:"SongLink"+a,to:"/songs/".concat(a)},o.a.createElement("div",{className:n===e.props.active?"songlink selected":"songlink",onClick:e.select(n)},t.title))}))}}]),t}(o.a.Component)),D=Object(i.b)(function(e){return{songs:e.songs.songs,active:e.songs.active}})(I),V=(n(70),function(e){function t(){var e,n;Object(S.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(T.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(o)))).addNewSong=function(){n.props.dispatch({type:"NEW_SONG"}),n.props.dispatch({type:"OPEN_EDIT_VIEW"})},n}return Object(N.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){return this.props.admin?o.a.createElement("div",{className:"AddNew"},o.a.createElement(A.a,{to:"/songs/new"},o.a.createElement("div",{onClick:this.addNewSong},"Lis\xe4\xe4 uusi kappale"))):null}}]),t}(o.a.Component)),L=Object(i.b)(function(e){return{admin:e.login.admin}})(V),x=(n(72),function(e){function t(){return Object(S.a)(this,t),Object(T.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"SideBar roundedbox"},o.a.createElement(L,null),o.a.createElement(D,null))}}]),t}(o.a.Component)),B={Ab:0,A:1,"A#":2,Bb:2,B:3,"B#":4,Cb:3,C:4,"C#":5,Db:5,D:6,"D#":7,Eb:7,E:8,"E#":9,Fb:8,F:9,"F#":10,Gb:10,G:11,"G#":0,Hb:2,H:3,"H#":4},P={up:["G#","A","A#","B","C","C#","D","D#","E","F","F#","G"],down:["Ab","A","Bb","B","C","Db","D","Eb","E","F","Gb","G"]},H=function(e){if(!e)return!1;for(var t=e.split(/\s/),n=0;n<t.length;n++){if(!"ABCDEFGH".includes(t[n].charAt(0)))return!1}return!0},W=function(e,t){if(e===t)return null;var n=B[e],a=B[t];if(void 0!==n&&void 0!==a){var o=a-n;return o<-5&&(o+=12),o>6&&(o-=12),0===o?"H"===e||"H"===t?null:e.includes("#")||t.includes("b")?-0:0:o}},F=function(e,t){if(null===t)return e;for(var n=B[e]+t;n<0;)n+=12;for(;n>=12;)n-=12;return(function(e){return 1/e<0}(t)?P.down:P.up)[n]},R=function(e,t){var n="",a=!1,o=0,r=0;return function(e){for(var t=[],n=!0,a=0;a<e.length;a++)n?/\S/.test(e.charAt(a))&&(t=t.concat(a),n=!1):/\s/.test(e.charAt(a))&&(t=t.concat(a),n=!0);return t=t.concat(e.length)}(e).forEach(function(s){if(a){var i=e.substring(r,s),c=function(e,t){var n=e.indexOf("/")+1;n>0&&e.length>n&&(e=e.substring(0,n)+F(e.substring(n),t));var a=0,o=e.charAt(1);a="#"===o||"b"===o?2:1;var r=e.substr(0,a);return F(r,t)+e.substring(a)}(i,t);o=c.length-i.length,n+=c}else{var l=s-r;l<o?o-=l=0:l-=o,n+=" ".repeat(l)}r=s,a=!a}),n},M=function(e,t){var n=parseInt(t);return e.map(function(e){return"chord"===e.type?{type:"chord",value:R(e.value,n)}:e})},z=(n(74),function(e){function t(){var e,n;Object(S.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(T.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(r)))).contentEditable=o.a.createRef(),n.update=function(e){var t=n.htmlToBodyArray();n.setContent(t,e)},n.getContent=function(){return n.htmlToBodyArray()},n.setContent=function(e,t){var a=n.contentEditable.current;if(a.innerHTML="",t.wrap){var o=document.createElement("div");o.appendChild(document.createTextNode("x".repeat(1e3))),a.appendChild(o);var r=Math.floor(a.clientWidth/o.scrollWidth*1e3);a.innerHTML="";for(var s=[],i=0;i<e.length;i++){var c=e[i],l=e[i+1]?e[i+1]:{};if("chord"!==c.type||"lyric"!==l.type)do{s=s.concat({type:c.type,value:c.value.substring(0,r)}),c.value=c.value.substring(r)}while(c.value.length>0);else s=(s=s.concat(c)).concat(l),i++}e=s}e.forEach(function(e){var n=document.createElement("div");n.classList.add(e.type+"-row"),t.chords&&"chord"===e.type&&n.classList.add(t.chords),""!==e.value?n.appendChild(document.createTextNode(e.value)):n.appendChild(document.createElement("br")),a.appendChild(n)})},n.onPaste=function(e){e.preventDefault();var t=e.clipboardData.getData("text/plain");n.contentEditable.current.innerHTML=t},n.htmlToBodyArray=function(){var e=n.contentEditable.current.innerHTML.replace(/&nbsp;/g," ").replace(/<\/div>|<br>/g,"").split(/<div.*?>|\n/).map(function(e){return{type:H(e)?"chord":"lyric",value:e}});return""===e[0].value&&e.shift(),e},n}return Object(N.a)(t,e),Object(C.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.options!==e.options&&this.setContent(this.htmlToBodyArray())}},{key:"render",value:function(){return o.a.createElement("div",{className:"SongBody",contentEditable:this.props.edit,suppressContentEditableWarning:!0,ref:this.contentEditable,onPaste:this.onPaste,onInput:this.props.onChange},"some stuff here")}}]),t}(o.a.Component)),K=n(14),U=function(e){function t(){var e,n;Object(S.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(T.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(o)))).toggleEditView=function(){n.props.dispatch({type:"TOGGLE_VIEW_EDIT"}),n.props.updateView()},n}return Object(N.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"SongActions"},o.a.createElement(K.a,{size:42,onClick:function(){return e.props.dispatch({type:"CHANGE_SONG",payload:-1})}}),o.a.createElement(K.f,{size:42,onClick:function(){return e.props.dispatch({type:"CHANGE_SONG",payload:"random"})}}),o.a.createElement(K.b,{size:42,onClick:function(){return e.props.dispatch({type:"CHANGE_SONG",payload:1})}}),o.a.createElement(K.g,{className:"song-menu-right",size:42,onClick:function(){return e.props.dispatch({type:"TOGGLE_VIEW_TOOLS"})}}),o.a.createElement(K.d,{className:"song-menu-right",size:42,onClick:function(){return e.props.dispatch({type:"TOGGLE_VIEW_INFO"})}}),this.props.admin?o.a.createElement(K.c,{className:"song-menu-right",size:42,onClick:this.toggleEditView}):null)}}]),t}(o.a.Component),Y=Object(i.b)(function(e){return{songs:e.login,admin:e.login.admin}})(U),J=function(e){function t(){var e,n;Object(S.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(T.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(r)))).createDiv=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t)return null;var a=e?o.a.createElement("span",{style:{marginRight:"0.5em"}},e,":"):e,r=n.link?o.a.createElement("a",{href:t},t):t;return o.a.createElement("div",{style:n.style},a," ",r,o.a.createElement("br",null))},n}return Object(N.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){if(!this.props.show)return null;var e=this.props.song,t=e.composer,n=e.lyricist,a=e.performer,r=e.recording,s=e.info;return o.a.createElement("div",{className:"SongInfo"},o.a.createElement("div",{className:"song-info-left"},this.createDiv("S\xe4velt\xe4j\xe4",t),this.createDiv("Sanoittaja",n),this.createDiv("Esitt\xe4j\xe4",a),this.createDiv("Tallenne",r,{link:!0}),this.createDiv(null,s,{style:{marginTop:"0.5em"}})))}}]),t}(o.a.Component),q=Object(i.b)(function(e){return{song:e.songs.songs[e.songs.active],show:e.view.showInfo}})(J),Q=(n(76),function(e){function t(){var e,n;Object(S.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(T.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(o)))).state={delete:!1},n.edit=function(e){return function(t){var a={type:"SET_ACTIVE_PROP",payload:{prop:e,value:t.target.value}};n.props.dispatch(a)}},n.cancel=function(){n.props.dispatch({type:"CANCEL_NEW_SONG"})},n.delete=function(){if(!n.state.delete)return n.setState({delete:!0}),void setTimeout(function(){return n.setState({delete:!1})},5e3);G.a.delete("/api/songs/"+n.props.song._id,n.props.song,{headers:{authorization:"bearer "+n.props.admin}}).then(function(e){n.props.dispatch({type:"DELETE_ACTIVE"})}).catch(function(e){return console.log("error",e)})},n}return Object(N.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){if(!this.props.show)return null;var e=this.props.song,t=e.title,n=e.composer,a=e.lyricist,r=e.performer,s=e.recording,i=e.info,c=this.props.readyToSave?"Tallenna":"Tarkista soinnut";return o.a.createElement("div",{className:"AdminTools"},o.a.createElement("div",{className:"admin-tools-headers"},o.a.createElement("div",null)," ",o.a.createElement("button",{onClick:this.props.logout},"kirjaudu ulos"),o.a.createElement("label",null,"Kappaleen nimi"),o.a.createElement("input",{type:"text",value:t,onChange:this.edit("title")}),o.a.createElement("label",null,"S\xe4velt\xe4j\xe4"),o.a.createElement("input",{type:"text",value:n,onChange:this.edit("composer")}),o.a.createElement("label",null,"Sanoittaja"),o.a.createElement("input",{type:"text",value:a,onChange:this.edit("lyricist")}),o.a.createElement("label",null,"Esitt\xe4j\xe4"),o.a.createElement("input",{type:"text",value:r,onChange:this.edit("performer")}),o.a.createElement("label",null,"Tallenne"),o.a.createElement("input",{type:"text",value:s,onChange:this.edit("recording")}),o.a.createElement("label",null,"Lis\xe4tietoja"),o.a.createElement("input",{type:"text",value:i,onChange:this.edit("info")}),o.a.createElement("div",null),o.a.createElement("div",null,o.a.createElement("button",{onClick:this.props.updateViewOrSave},c),this.props.addNew?o.a.createElement(A.a,{to:"/"},o.a.createElement("button",{onClick:this.cancel},"peruuta")):o.a.createElement(A.a,{to:"/"},o.a.createElement("button",{onClick:this.delete,style:{color:this.state.delete?"red":"black"}},this.state.delete?"varmista poisto":"poista")))))}}]),t}(o.a.Component)),X=Object(i.b)(function(e){return{song:e.songs.songs[e.songs.active],addNew:e.songs.addNew,readyToSave:e.songs.readyToSave,show:e.view.showEdit}})(Q),Z=(n(78),function(e){function t(){var e,n;Object(S.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(T.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(o)))).state={semitones:"0",direction:"up",from:"",to:""},n.componentDidMount=function(){n.setState({from:n.guessKey(n.props.song.body)})},n.guessKey=function(e){for(var t=e.length-1;t>=0;t--)if("chord"===e[t].type){var n=e[t].value.split(/\s+/),a=n[n.length-1];return"#"===a.charAt(1)||"b"===a.charAt(1)?(console.log("guessing",a.substring(0,2)),a.substring(0,2)):(console.log("guessing",a.substring(0,1)),a.substring(0,1))}},n.changeSemitones=function(e){var t=Number(e.target.value),a={semitones:t};if(n.state.from){var o="up"===n.state.direction?t:-t;a.to=F(n.state.from,o)}n.setState(a)},n.changeDirection=function(e){var t={direction:e.target.value};if(n.state.from){var a="up"===e.target.value?n.state.semitones:-n.state.semitones;t.to=F(n.state.from,a)}n.setState(t)},n.changeFrom=function(e){if(""!==e.target.value){var t={from:e.target.value};if(n.state.to){var a=W(e.target.value,n.state.to);1/a>0?(t.direction="up",t.semitones=a):(t.direction="down",t.semitones=-a)}n.setState(t)}else n.setState({from:""})},n.changeTo=function(e){if(""!==e.target.value){var t={to:e.target.value};if(n.state.from){var a=W(n.state.from,e.target.value);1/a>0?(t.direction="up",t.semitones=a):(t.direction="down",t.semitones=-a)}n.setState(t)}else n.setState({to:""})},n.transpose=function(){var e="up"===n.state.direction?n.state.semitones:-n.state.semitones,t=M(n.props.song.body,e);n.setState({from:n.guessKey(t),to:""}),n.props.setSongBody(t)},n}return Object(N.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){return this.props.show?o.a.createElement("div",{className:"SongTools"},"Transponoi",o.a.createElement("select",{value:this.state.direction,onChange:this.changeDirection},o.a.createElement("option",{value:"up"},"yl\xf6s"),o.a.createElement("option",{value:"down"},"alas")),o.a.createElement("select",{value:this.state.semitones,onChange:this.changeSemitones},Array.from(new Array(12),function(e,t){return t}).map(function(e){return o.a.createElement("option",{key:"semitones-".concat(e),value:e},e)})),"puolis\xe4velaskelta",o.a.createElement("input",{type:"text",value:this.state.from,onChange:this.changeFrom}),o.a.createElement(K.e,{style:{verticalAlign:"-0.3em"}}),o.a.createElement("input",{type:"text",value:this.state.to,onChange:this.changeTo}),o.a.createElement("br",null),o.a.createElement("button",{onClick:this.transpose},"Transponoi")):null}}]),t}(o.a.Component)),$=Object(i.b)(function(e){return{song:e.songs.songs[e.songs.active],show:e.view.showTools}})(Z),ee=n(91),te=(n(80),function(e){function t(){var e,n;Object(S.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(T.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(r)))).state={redirect:!1},n.songBody=o.a.createRef(),n.options={chords:"",transpose:{transpose:!1}},n.componentDidMount=function(){n.songBody.current.setContent(n.props.song.body,n.options)},n.componentDidUpdate=function(e){n.props.showEdit!==e.showEdit&&(console.log("1"),n.options=Object(f.a)({},n.options,{chords:n.props.showEdit?"highlight":""}),n.updateView(n.options))},n.save=function(){n.props.addNew?G.a.post("/api/songs/",n.props.song,{headers:{authorization:"bearer "+n.props.admin}}).then(function(e){console.log("result",e),n.setState({redirect:e.data._id})}).catch(function(e){return console.log("error",e)}):G.a.put("/api/songs/"+n.props.song._id,n.props.song,{headers:{authorization:"bearer "+n.props.admin}}).then(function(e){console.log("result",e),n.props.dispatch({type:"PUT_SONG",payload:e.data})}).catch(function(e){return console.log("error",e)})},n.updateViewOrSave=function(){n.props.readyToSave?n.save():n.updateView()},n.updateView=function(){n.songBody.current.update(n.options),n.props.dispatch({type:"SET_READY_TO_SAVE",payload:!0})},n.onChange=function(){n.props.dispatch({type:"SET_ACTIVE_PROP",payload:{prop:"body",value:n.songBody.current.getContent()}}),n.props.dispatch({type:"SET_READY_TO_SAVE",payload:!1})},n.setSongBody=function(e){n.props.dispatch({type:"SET_ACTIVE_PROP",payload:{prop:"body",value:e}}),n.props.dispatch({type:"SET_READY_TO_SAVE",payload:!1}),n.songBody.current.setContent(e,n.options)},n}return Object(N.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){return this.state.redirect?o.a.createElement(ee.a,{to:"/songs/".concat(this.state.redirect)}):o.a.createElement("div",{className:"Content roundedbox"},o.a.createElement("h2",null,this.props.song.title),o.a.createElement(Y,{updateView:this.updateView}),o.a.createElement(q,null),o.a.createElement($,{setSongBody:this.setSongBody}),o.a.createElement(X,{updateViewOrSave:this.updateViewOrSave,onChange:this.onChange}),o.a.createElement(z,{ref:this.songBody,onChange:this.onChange,edit:this.props.showEdit}))}}]),t}(o.a.Component)),ne=Object(i.b)(function(e){return{song:e.songs.songs[e.songs.active],readyToSave:e.songs.readyToSave,addNew:e.songs.addNew,admin:e.login.admin,showEdit:e.view.showEdit}})(te),ae=function(e){function t(){return Object(S.a)(this,t),Object(T.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"Content roundedbox"},o.a.createElement("h2",null,"Etusivu"))}}]),t}(o.a.Component),oe=(n(83),function(e){function t(){return Object(S.a)(this,t),Object(T.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(C.a)(t,[{key:"componentDidMount",value:function(){var e=Object(w.a)(j.a.mark(function e(){var t,n,a,o;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.a.get("/api/songs").catch(function(e){return console.log("error fetching songs from db",e)});case 2:if(t=e.sent,(n=t.data).sort(function(e,t){return e.title.localeCompare(t.title)}),this.props.dispatch({type:"LOG_IN"}),this.props.dispatch({type:"SET_SONGS",payload:n}),!this.props.match){e.next=17;break}a=this.props.match.params.id,o=0;case 10:if(!(o<n.length)){e.next=17;break}if(n[o]._id!==a){e.next=14;break}return this.props.dispatch({type:"SET_ACTIVE",payload:o}),e.abrupt("break",17);case 14:o++,e.next=10;break;case 17:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return o.a.createElement("div",{className:"SongBook"},o.a.createElement("div",{className:"Header"},o.a.createElement(A.a,{id:"site-header-link",to:"/"},o.a.createElement("h1",null,"Laulukirja"))),o.a.createElement(x,null),void 0!==this.props.active?o.a.createElement(ne,{key:"content-song-".concat(this.props.active)}):o.a.createElement(ae,null))}}]),t}(o.a.Component)),re=Object(i.b)(function(e){return{active:e.songs.active,admin:e.login.admin}})(oe),se=(n(85),function(e){function t(){var e,n;Object(S.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(T.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(o)))).state={password:""},n.handleChange=function(e){n.setState({password:e.target.value})},n.handleKeyPress=function(e){"Enter"===e.key&&G.a.post("/api/login",{password:n.state.password}).then(function(e){var t=e.data.token;window.localStorage.setItem("admin",t),n.setState({redirect:!0})}).catch(function(e){console.log("login failed",e)})},n}return Object(N.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){return this.state.redirect?o.a.createElement(ee.a,{to:"/"}):o.a.createElement("div",{className:"Login"},o.a.createElement("div",{className:"loginBox roundedbox"},o.a.createElement("h3",null,"Kirjaudu sis\xe4\xe4n"),o.a.createElement("input",{type:"text",value:"admin",disabled:!0}),o.a.createElement("input",{type:"password",value:this.state.password,onChange:this.handleChange,onKeyPress:this.handleKeyPress})))}}]),t}(o.a.Component));n(87);s.a.render(o.a.createElement(i.a,{store:y},o.a.createElement(c.a,null,o.a.createElement(l.a,null,o.a.createElement(u.a,{exact:!0,path:"/",component:re}),o.a.createElement(u.a,{path:"/songs/:id",component:re}),o.a.createElement(u.a,{path:"/login",component:se})))),document.getElementById("root"))}},[[38,2,1]]]);
//# sourceMappingURL=main.81d368b5.chunk.js.map